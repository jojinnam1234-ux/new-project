<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main_style.css">
    <title>KSLPCE - ë©”ì¸</title>
</head>

<body>
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="loginClose">&times;</span>
            <h2>Login</h2>
            <form id="modalLoginForm">
                <input type="text" id="loginId" placeholder="ì•„ì´ë””" required>
                <input type="password" id="loginPw" placeholder="ë¹„ë°€ë²ˆí˜¸" required>
                <button type="submit" class="login-submit-btn">ë¡œê·¸ì¸</button>
            </form>
        </div>
    </div>

    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="signupClose">&times;</span>
            <h2>Sign Up</h2>
            <form id="modalSignupForm">
                <input type="text" id="signupId" placeholder="ì•„ì´ë”” ìƒì„±" required>
                <input type="password" id="signupPw" placeholder="ë¹„ë°€ë²ˆí˜¸ ìƒì„±" required>
                <input type="text" id="signupNickname" placeholder="ë‹‰ë„¤ì„" required>
                <button type="submit" class="login-submit-btn">ê°€ì…í•˜ê¸°</button>
            </form>
        </div>
    </div>

    <div class="top-auth-buttons">
        <button type="button" class="auth-btn" id="loginBtn">ë¡œê·¸ì¸</button>
        <button type="button" class="auth-btn" id="signupBtn">íšŒì›ê°€ì…</button>
        <button type="button" class="auth-btn hidden" id="logoutBtn">ë¡œê·¸ì•„ì›ƒ</button>
    </div>

    <h1 id="hometitle">ì„¸ìƒì„ ìœ ì§€í•˜ëŠ” í˜<br>K-SPLCE</h1>
    <h2 id="greeting"></h2>

    <div class="main-container">
        <a href="kid-service.html" class="photo-item">
            <img src="ì¢Œì‚¬ì§„.png" alt="Kid">
            <h4 class="service-label"><span>Kid</span></h4>
        </a>
        <a href="senior-service.html" class="photo-item">
            <img src="ì¤‘ì‚¬ì§„.png" alt="Senior">
            <h4 class="service-label"><span>Senior</span></h4>
        </a>
        <a href="pet-service.html" class="photo-item">
            <img src="ìš°ì‚¬ì§„.png" alt="Pet">
            <h4 class="service-label"><span>Pet</span></h4>
        </a>
    </div>

    <script src="login.js"></script>

    <script>
        // ğŸš¨ ì—¬ê¸°ì— Renderì—ì„œ ë°›ì€ ë³¸ì¸ì˜ URLì„ ë„£ìœ¼ì„¸ìš”!
        const SERVER_URL = 'https://my-auth-web.onrender.com';

        async function register() {
            const username = document.getElementById('signupId').value;
            const password = document.getElementById('signupPw').value;

            const res = await fetch(`${SERVER_URL}/register`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, password })
            });
            const data = await res.json();
            alert(data.message || data.error);
        }

        async function login() {
            const username = document.getElementById('loginUser').value;
            const password = document.getElementById('loginPass').value;

            const res = await fetch(`${SERVER_URL}/login`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, password })
            });
            const data = await res.json();
            alert(data.message || data.error);
        }
    </script>




</body>

</html>